<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIYALA - لوحة تحكم البائع</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ===== CSS RESET & BASE ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* نظام الألوان */
            --bg-primary: #0C0F17;
            --bg-secondary: #121522;
            --bg-card: rgba(255, 255, 255, 0.03);
            --text-primary: #E6E6E6;
            --text-secondary: rgba(230, 230, 230, 0.6);
            --text-muted: rgba(230, 230, 230, 0.4);
            --accent-primary: #FF6D1F;
            --accent-hover: #FF8B4A;
            --status-success: #76DE68;
            --status-warning: #FFB347;
            --status-danger: #ED3F27;
            --status-info: #4A90E2;

            /* Borders */
            --border-light: rgba(255, 255, 255, 0.06);
            --border-medium: rgba(255, 255, 255, 0.1);
            --border-accent: rgba(255, 109, 31, 0.3);

            /* Shadows */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.16);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);

            /* Spacing */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            --space-2xl: 48px;

            /* Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 999px;

            /* Transitions */
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
            --transition-slow: 350ms ease;
        }

        /* ===== BASE TYPOGRAPHY ===== */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            font-size: 14px;
            font-weight: 400;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ===== TOAST NOTIFICATION SYSTEM ===== */
        .toast-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            pointer-events: none;
            width: 90%;
            max-width: 400px;
        }

        .toast {
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-md) var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-md);
            box-shadow: var(--shadow-md);
            animation: toastIn 0.3s ease forwards;
            pointer-events: auto;
            position: relative;
            overflow: hidden;
        }

        @keyframes toastIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes toastOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }

            to {
                opacity: 0;
                transform: translateX(100px);
            }
        }

        @keyframes progress {
            from {
                width: 100%;
            }

            to {
                width: 0%;
            }
        }

        .toast::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 4px;
        }

        .toast-success::before {
            background: var(--status-success);
        }

        .toast-error::before {
            background: var(--status-danger);
        }

        .toast-warning::before {
            background: var(--status-warning);
        }

        .toast-info::before {
            background: var(--status-info);
        }

        .toast-icon {
            font-size: 18px;
        }

        .toast-message {
            flex: 1;
            font-size: 14px;
            line-height: 1.5;
            color: var(--text-primary);
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 20px;
            cursor: pointer;
            padding: var(--space-xs);
            margin-right: -8px;
            margin-left: auto;
            transition: color var(--transition-fast);
        }

        .toast-close:hover {
            color: var(--text-primary);
        }

        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        }

        /* ===== CONFIRMATION POPUP ===== */
        .confirmation-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .confirmation-overlay.active {
            display: flex;
        }

        .confirmation-popup {
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 400px;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .popup-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            gap: var(--space-md);
            background: rgba(0, 0, 0, 0.2);
        }

        .popup-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .icon-warning {
            background: rgba(255, 179, 71, 0.1);
            color: var(--status-warning);
        }

        .icon-danger {
            background: rgba(237, 63, 39, 0.1);
            color: var(--status-danger);
        }

        .icon-info {
            background: rgba(74, 144, 226, 0.1);
            color: var(--status-info);
        }

        .icon-success {
            background: rgba(118, 222, 104, 0.1);
            color: var(--status-success);
        }

        .popup-header h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .popup-body {
            padding: var(--space-lg);
        }

        .popup-message {
            font-size: 15px;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
        }

        .popup-actions {
            display: flex;
            gap: var(--space-md);
        }

        .popup-btn {
            flex: 1;
            padding: var(--space-md);
            border-radius: var(--radius-md);
            font-family: inherit;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
        }

        .btn-cancel {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border-light);
        }

        .btn-cancel:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--border-medium);
        }

        .btn-confirm {
            background: var(--status-danger);
            color: white;
        }

        .btn-confirm:hover {
            background: #FF5252;
            transform: translateY(-1px);
        }

        .btn-confirm-success {
            background: var(--status-success);
        }

        .btn-confirm-success:hover {
            background: #68C95C;
        }

        .btn-confirm-warning {
            background: var(--status-warning);
        }

        .btn-confirm-warning:hover {
            background: #FFA726;
        }

        .btn-confirm-primary {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .btn-confirm-primary:hover {
            background: var(--accent-hover);
        }

        /* ===== NAVBAR ===== */
        .seller-navbar {
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border-light);
            padding: 0 var(--space-lg);
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 768px) {
            .seller-navbar {
                padding: 0 var(--space-md);
                height: 56px;
            }
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-weight: 700;
            font-size: 18px;
            color: var(--accent-primary);
            text-decoration: none;
        }

        .nav-brand i {
            font-size: 24px;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
            position: relative;
        }

        .btn-icon:hover {
            background: rgba(255, 255, 255, 0.06);
            color: var(--text-primary);
            border-color: var(--border-medium);
        }

        /* ===== MAIN LAYOUT ===== */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-lg);
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: var(--space-md);
            }
        }

        /* ===== WELCOME BANNER ===== */
        .welcome-banner {
            background: linear-gradient(135deg,
                    rgba(255, 109, 31, 0.1),
                    rgba(118, 222, 104, 0.1));
            border: 1px solid var(--border-accent);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
            position: relative;
            overflow: hidden;
        }

        .welcome-banner h2 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: var(--space-sm);
        }

        .welcome-banner p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .brand-name {
            color: var(--accent-primary);
            font-weight: 700;
        }

        /* ===== STATS GRID ===== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-md);
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            transition: all var(--transition-normal);
            cursor: pointer;
        }

        .stat-card:hover {
            border-color: var(--border-accent);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .stat-title {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-primary);
            font-size: 20px;
        }

        /* إضافة تأثير على البطاقات */
        .stat-card,
        .additional-stat {
            cursor: pointer;
            user-select: none;
        }

        .stat-card:active,
        .additional-stat:active {
            transform: scale(0.98);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1;
            margin-bottom: var(--space-sm);
        }

        .stat-change {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            font-size: 12px;
            font-weight: 500;
        }

        .stat-change.positive {
            color: var(--status-success);
        }

        .stat-change.negative {
            color: var(--status-danger);
        }

        /* ===== ADDITIONAL STATS ===== */
        .additional-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        @media (max-width: 768px) {
            .additional-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-md);
            }
        }

        .additional-stat {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            text-align: center;
            transition: all var(--transition-normal);
            cursor: pointer;
        }

        .additional-stat:hover {
            border-color: var(--border-medium);
            transform: translateY(-1px);
        }

        .additional-stat .stat-title {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: var(--space-xs);
        }

        .additional-stat .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        /* Status Colors */
        .stat-returns .stat-value {
            color: var(--status-danger);
        }

        .stat-items .stat-value {
            color: var(--status-info);
        }

        .stat-delivered .stat-value {
            color: var(--status-success);
        }

        .stat-pending .stat-value {
            color: var(--status-warning);
        }

        .stat-unanswered .stat-value {
            color: var(--text-secondary);
        }

        /* ===== COMPLAINTS SECTION ===== */
        .complaints-section {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-sm);
            border-bottom: 1px solid var(--border-light);
        }

        .section-header h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .complaints-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .complaint-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-sm);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
        }

        .complaint-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            background: rgba(255, 109, 31, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-primary);
            font-size: 16px;
        }

        .complaint-info {
            flex: 1;
        }

        .complaint-title {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 2px;
        }

        .complaint-date {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .complaint-status {
            padding: 4px 10px;
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 500;
        }

        .status-open {
            background: rgba(255, 179, 71, 0.1);
            color: var(--status-warning);
        }

        .status-resolved {
            background: rgba(118, 222, 104, 0.1);
            color: var(--status-success);
        }

        /* ===== TIPS SECTION ===== */
        .tips-section {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .tips-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-md);
            padding: var(--space-md);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
        }

        .tip-icon {
            width: 40px;
            height: 40px;
            min-width: 40px;
            border-radius: var(--radius-md);
            background: rgba(118, 222, 104, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--status-success);
            font-size: 20px;
        }

        .tip-content h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: var(--space-xs);
            color: var(--text-primary);
        }

        .tip-content p {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* ===== QUICK ACTIONS ===== */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        @media (max-width: 768px) {
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .action-btn {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-md);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-sm);
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
            color: inherit;
            text-align: center;
        }

        .action-btn:hover {
            background: rgba(255, 109, 31, 0.05);
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }

        .action-btn i {
            font-size: 24px;
            color: var(--accent-primary);
        }

        .action-btn span {
            font-size: 13px;
            font-weight: 500;
        }

        /* ===== CHAT POPUP ===== */
        .chat-icon {
            position: fixed;
            bottom: var(--space-lg);
            left: var(--space-lg);
            width: 56px;
            height: 56px;
            border-radius: var(--radius-lg);
            background: var(--accent-primary);
            color: var(--bg-primary);
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-normal);
        }

        .chat-icon:hover {
            background: var(--accent-hover);
            transform: scale(1.05);
        }

        .chat-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: var(--space-md);
        }

        .chat-overlay.active {
            display: flex;
        }

        .chat-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 400px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
        }

        .chat-header h3 {
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .chat-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: var(--space-xs);
            border-radius: var(--radius-sm);
            font-size: 20px;
        }

        .chat-messages {
            flex: 1;
            padding: var(--space-lg);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .message {
            max-width: 80%;
            padding: var(--space-md);
            border-radius: var(--radius-lg);
            font-size: 14px;
            line-height: 1.4;
        }

        .message.admin {
            align-self: flex-start;
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            color: var(--text-primary);
        }

        .message.user {
            align-self: flex-end;
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .chat-input-area {
            padding: var(--space-lg);
            border-top: 1px solid var(--border-light);
            display: flex;
            gap: var(--space-sm);
        }

        .chat-input {
            flex: 1;
            padding: var(--space-md);
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
        }

        .chat-send {
            padding: var(--space-md) var(--space-lg);
            background: var(--accent-primary);
            color: var(--bg-primary);
            border: none;
            border-radius: var(--radius-md);
            font-family: inherit;
            font-weight: 500;
            cursor: pointer;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            :root {
                --space-lg: 16px;
                --space-xl: 24px;
            }

            .stat-value {
                font-size: 24px;
            }

            .additional-stat .stat-value {
                font-size: 20px;
            }
        }

        /* ===== Notifications Badge ===== */
        .notification-badge {
            position: absolute;
            top: -2px;
            left: -2px;
            background: var(--status-danger);
            color: white;
            font-size: 10px;
            font-weight: 600;
            width: 18px;
            height: 18px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--bg-secondary);
        }

        /* ===== Seller Progress ===== */
        .seller-progress-card {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .progress-container {
            margin: var(--space-md) 0;
            position: relative;
        }

        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, var(--accent-primary), var(--status-success));
            border-radius: var(--radius-full);
            transition: width 0.3s ease;
        }

        .progress-text {
            display: block;
            margin-top: var(--space-sm);
            font-size: 12px;
            color: var(--text-secondary);
            text-align: center;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-lg);
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-xs);
            font-size: 12px;
            color: var(--text-muted);
        }

        .step.completed {
            color: var(--status-success);
        }

        .step i {
            font-size: 20px;
        }

        /* ===== Recent Orders ===== */
        .recent-orders {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-lg);
        }

        .view-all {
            color: var(--accent-primary);
            font-size: 13px;
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .view-all:hover {
            color: var(--accent-hover);
        }

        .orders-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .order-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: var(--space-md);
            padding: var(--space-md);
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            align-items: center;
            font-size: 13px;
        }

        @media (max-width: 768px) {
            .order-item {
                grid-template-columns: 1fr;
                gap: var(--space-sm);
            }
        }

        .order-customer {
            font-weight: 500;
        }

        .order-amount {
            color: var(--accent-primary);
            font-weight: 600;
        }

        .order-status {
            padding: 4px 10px;
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 500;
            text-align: center;
        }

        .status-new {
            background: rgba(74, 144, 226, 0.1);
            color: var(--status-info);
        }

        .status-processing {
            background: rgba(255, 179, 71, 0.1);
            color: var(--status-warning);
        }

        .status-delivered {
            background: rgba(118, 222, 104, 0.1);
            color: var(--status-success);
        }

        .order-time {
            color: var(--text-secondary);
            font-size: 11px;
            text-align: center;
        }

        /* ===== Loading States ===== */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity var(--transition-normal);
        }

        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border-light);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* ===== Quick Search ===== */
        .quick-search {
            flex: 1;
            max-width: 400px;
            margin: 0 var(--space-lg);
            position: relative;
        }

        .quick-search input {
            width: 100%;
            padding: 10px var(--space-lg) 10px var(--space-md);
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            transition: all var(--transition-fast);
        }

        .quick-search input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(255, 109, 31, 0.1);
        }

        .quick-search i {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        /* ===== Date Filter ===== */
        .date-filter {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
            padding: var(--space-md);
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
        }

        .date-filter span {
            flex: 1;
            font-size: 14px;
        }

        /* ===== Stats Summary ===== */
        .stats-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .summary-item {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            display: flex;
            align-items: center;
            gap: var(--space-md);
            font-size: 13px;
        }

        .summary-item i {
            color: var(--accent-primary);
            font-size: 18px;
        }

        .summary-item strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* ===== Mobile Sidebar ===== */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
        }

        .mobile-sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 280px;
            height: 100vh;
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-light);
            z-index: 3000;
            transition: right var(--transition-normal);
            display: flex;
            flex-direction: column;
        }

        .mobile-sidebar.active {
            right: 0;
        }

        .sidebar-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-close {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 20px;
            cursor: pointer;
        }

        .sidebar-menu {
            padding: var(--space-md);
            flex: 1;
            overflow-y: auto;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .quick-search {
                display: none;
            }
        }

        /* إخفاء الأسهم من حقول الأرقام */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
            appearance: textfield;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loader"></div>
    </div>
    <!-- Navbar -->
    <nav class="seller-navbar">


        <a href="#" class="nav-brand">
            <i class="fas fa-chart-line"></i>
            <span>لوحة التحكم</span>
        </a>

        <div class="nav-actions">

            <button class="btn-icon" id="notificationsBtn" title="الإشعارات">
                <i class="fas fa-bell"></i>
                <span class="notification-badge" id="notificationCount">3</span>
            </button>
            <button class="btn-icon" id="settingsBtn" title="الإعدادات">
                <i class="fas fa-cog"></i>
            </button>
            <button class="btn-icon" id="logoutBtn" title="تسجيل الخروج">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </nav>
    <section class="welcome-banner">
        <h2>أهلاً بك في <span class="brand-name" id="brandName">براندك</span> <i class="fas fa-party-horn"></i></h2>
        <p>تابع أداء متجرك واتخذ القرارات الصحيحة لزيادة مبيعاتك</p>
    </section>
    <!-- Main Dashboard -->
    <main class="dashboard-container">
        <!-- Welcome Banner -->
        <!-- Date Filter -->
        <div class="date-filter">
            <span id="currentDate">اليوم: 10 ديسمبر 2024</span>
            <button class="btn-icon" onclick="toast.info('سيتم فتح التقويم')">
                <i class="fas fa-calendar"></i>
            </button>
        </div>
        <!-- Progress Bar للبائع -->
        <section class="seller-progress-card">
            <div class="section-header">
                <h3><i class="fas fa-tasks"></i> تقدم ملف البائع</h3>
                <button class="btn-icon" onclick="toast.info('سيتم فتح إكمال الملف')">
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
            <div class="progress-container">
                <div class="progress-bar" style="width: 65%"></div>
                <span class="progress-text">ملف البائع مكتمل 65%</span>
            </div>
            <div class="progress-steps">
                <div class="step completed">
                    <i class="fas fa-check-circle"></i>
                    <span>التسجيل</span>
                </div>
                <div class="step completed">
                    <i class="fas fa-check-circle"></i>
                    <span>المنتجات</span>
                </div>
                <div class="step">
                    <i class="fas fa-clock"></i>
                    <span>الإعدادات</span>
                </div>
            </div>
        </section>


        <!-- Main Stats Grid -->
        <div class="stats-grid">
            <!-- Sales -->
            <div class="stat-card" onclick="goToSalesDetails()">
                <div class="stat-header">

                    <div class="stat-title">إجمالي المبيعات</div>
                    <div class="stat-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                </div>
                <div class="stat-value" id="totalSales">EGP 12,500</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+12% عن الشهر الماضي</span>
                </div>
            </div>

            <!-- Products -->
            <div class="stat-card" data-page="products-details">
                <div class="stat-header">
                    <div class="stat-title">المنتجات</div>
                    <div class="stat-icon">
                        <i class="fas fa-box"></i>
                    </div>
                </div>
                <div class="stat-value" id="productsCount">8</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+2 منتجات جديدة</span>
                </div>
            </div>

            <!-- Orders -->
            <div class="stat-card" data-page="orders-details">
                <div class="stat-header">
                    <div class="stat-title">الطلبات الجديدة</div>
                    <div class="stat-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                </div>
                <div class="stat-value" id="newOrders">3</div>
                <div class="stat-change negative">
                    <i class="fas fa-arrow-down"></i>
                    <span>-1 عن الأسبوع الماضي</span>
                </div>
            </div>

            <!-- Conversion -->
            <div class="stat-card" data-page="analytics-details">
                <div class="stat-header">
                    <div class="stat-title">معدل التحويل</div>
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                <div class="stat-value" id="conversionRate">4.2%</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>+0.8% عن الأسبوع الماضي</span>
                </div>
            </div>
        </div>

        <!-- Additional Stats -->
        <div class="additional-stats">
            <!-- Quick Stats Summary -->
            <div class="stats-summary">
                <div class="summary-item">
                    <i class="fas fa-star"></i>
                    <span>أفضل منتج: <strong id="bestProduct">تيشيرت قطني</strong></span>
                </div>
                <div class="summary-item">
                    <i class="fas fa-clock"></i>
                    <span>أفضل وقت: <strong id="bestTime">8-10 مساءً</strong></span>
                </div>
                <div class="summary-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>أكثر منطقة: <strong id="bestArea">القاهرة</strong></span>
                </div>
            </div>
            <!-- Returns -->
            <div class="additional-stat stat-returns" onclick="window.location.href='returns.html'">
                <i class="fas fa-exchange-alt"></i>
                <div class="stat-title">مرتجعات</div>
                <div class="stat-value" id="returnsCount">3</div>
            </div>

            <!-- Items -->
            <div class="additional-stat stat-items" data-page="items-details">
                <i class="fas fa-cube"></i>
                <div class="stat-title">عناصر</div>
                <div class="stat-value" id="itemsCount">235</div>
            </div>

            <!-- Delivered -->
            <div class="additional-stat stat-delivered" data-page="delivered-details">
                <i class="fas fa-truck"></i>
                <div class="stat-title">تم التسليم</div>
                <div class="stat-value" id="deliveredCount">189</div>
            </div>

            <!-- Pending -->
            <div class="additional-stat stat-pending" data-page="pending-details">
                <i class="fas fa-clock"></i>
                <div class="stat-title">قيد الانتظار</div>
                <div class="stat-value" id="pendingCount">14</div>
            </div>

            <!-- Unanswered -->
            <div class="additional-stat stat-unanswered" data-page="unanswered-details">
                <i class="fas fa-question-circle"></i>
                <div class="stat-title">غير مجاب</div>
                <div class="stat-value" id="unansweredCount">7</div>
            </div>
        </div>

        <!-- Complaints Section -->
        <section class="complaints-section">
            <!-- Recent Orders -->
            <section class="recent-orders">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> الطلبات الأخيرة</h3>
                    <a href="orders.html" class="view-all">عرض الكل</a>
                </div>
                <div class="orders-list" id="ordersList">
                    <!-- سيتم ملؤها بواسطة JavaScript -->
                </div>
            </section>
            <div class="section-header">
                <h3>
                    <i class="fas fa-exclamation-triangle"></i>
                    الشكاوى
                </h3>
                <span class="stat-change negative" id="complaintsCount">3 شكاوى مفتوحة</span>
            </div>

            <div class="complaints-list" id="complaintsList">
                <!-- سيتم ملؤها بواسطة JavaScript -->
            </div>
        </section>

        <!-- Tips Section -->
        <section class="tips-section">
            <div class="section-header">
                <h3>
                    <i class="fas fa-lightbulb"></i>
                    نصائح وإعلانات
                </h3>
            </div>

            <div class="tips-list" id="tipsList">
                <!-- سيتم ملؤها بواسطة JavaScript -->
            </div>
        </section>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <button class="action-btn" onclick="exportReport()">
                <i class="fas fa-download"></i>
                <span>تصدير تقرير</span>
            </button>
            <a href="products.html" class="action-btn">
                <i class="fas fa-plus-circle"></i>
                <span>إضافة منتج</span>
            </a>

            <a href="orders.html" class="action-btn">
                <i class="fas fa-shopping-bag"></i>
                <span>الطلبات</span>
            </a>

            <a href="analytics.html" class="action-btn">
                <i class="fas fa-chart-bar"></i>
                <span>تحليلات</span>
            </a>

            <a href="brand-profile.html" class="action-btn">
                <i class="fas fa-store"></i>
                <span>براند</span>
            </a>
        </div>
    </main>

    <!-- Chat Icon -->
    <button class="chat-icon" id="chatIcon">
        <i class="fas fa-comment-dots"></i>
    </button>

    <!-- Chat Popup -->
    <div class="chat-overlay" id="chatOverlay">
        <div class="chat-container">
            <div class="chat-header">
                <h3>
                    <i class="fas fa-comments"></i>
                    محادثة الدعم
                </h3>
                <button class="chat-close" id="chatClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- الرسائل ستظهر هنا -->
            </div>

            <div class="chat-input-area">
                <input type="text" class="chat-input" id="chatInput" placeholder="اكتب رسالتك هنا...">
                <button class="chat-send" id="chatSend">إرسال</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Popup -->
    <div class="confirmation-overlay" id="confirmationOverlay">
        <div class="confirmation-popup" id="confirmationPopup">
            <!-- سيتم ملؤها بواسطة JavaScript -->
        </div>
    </div>
    <!-- Mobile Sidebar -->
    <aside class="mobile-sidebar" id="mobileSidebar">
        <div class="sidebar-header">
            <h3>القائمة</h3>
            <button class="sidebar-close" id="sidebarClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-menu">
            <!-- محتوى القائمة -->
        </div>
    </aside>
    <!-- JavaScript -->
    <script>
        // ===== TOAST SYSTEM =====
        class ToastSystem {
            constructor() {
                this.container = null;
                this.createContainer();
            }

            createContainer() {
                this.container = document.createElement('div');
                this.container.className = 'toast-container';
                document.body.appendChild(this.container);
            }

            show(message, type = 'success', duration = 3000) {
                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;

                const icons = {
                    success: '<i class="fas fa-check-circle"></i>',
                    error: '<i class="fas fa-exclamation-circle"></i>',
                    warning: '<i class="fas fa-exclamation-triangle"></i>',
                    info: '<i class="fas fa-info-circle"></i>'
                };

                toast.innerHTML = `
                    <div class="toast-icon">${icons[type] || icons.info}</div>
                    <div class="toast-message">${message}</div>
                    <button class="toast-close">&times;</button>
                    <div class="toast-progress" style="animation: progress ${duration}ms linear forwards; background: ${type === 'success' ? 'var(--status-success)' :
                        type === 'error' ? 'var(--status-danger)' :
                            type === 'warning' ? 'var(--status-warning)' :
                                'var(--status-info)'
                    }"></div>
                `;

                const closeBtn = toast.querySelector('.toast-close');
                closeBtn.addEventListener('click', () => this.removeToast(toast));

                this.container.appendChild(toast);

                const timeout = setTimeout(() => {
                    this.removeToast(toast);
                }, duration);

                toast._timeout = timeout;
            }

            removeToast(toast) {
                if (toast._timeout) clearTimeout(toast._timeout);
                toast.style.animation = 'toastOut 0.3s ease forwards';
                setTimeout(() => {
                    if (toast.parentNode === this.container) {
                        this.container.removeChild(toast);
                    }
                }, 300);
            }

            success(message, duration = 3000) {
                this.show(message, 'success', duration);
            }

            error(message, duration = 4000) {
                this.show(message, 'error', duration);
            }

            warning(message, duration = 4000) {
                this.show(message, 'warning', duration);
            }

            info(message, duration = 3000) {
                this.show(message, 'info', duration);
            }
        }

        // ===== CONFIRMATION SYSTEM =====
        class ConfirmationSystem {
            constructor() {
                this.overlay = document.getElementById('confirmationOverlay');
                this.popup = document.getElementById('confirmationPopup');
                this.callback = null;
            }

            show(options) {
                const {
                    title = 'تأكيد الإجراء',
                    message = 'هل أنت متأكد من رغبتك في المتابعة؟',
                    icon = 'warning',
                    confirmText = 'تأكيد',
                    cancelText = 'إلغاء',
                    type = 'danger',
                    onConfirm = () => { },
                    onCancel = () => { }
                } = options;

                this.callback = { onConfirm, onCancel };

                const iconClass = `icon-${icon}`;
                const btnClass = `btn-confirm btn-confirm-${type}`;

                const icons = {
                    warning: '<i class="fas fa-exclamation-triangle"></i>',
                    danger: '<i class="fas fa-exclamation-circle"></i>',
                    info: '<i class="fas fa-info-circle"></i>',
                    success: '<i class="fas fa-check-circle"></i>'
                };

                this.popup.innerHTML = `
                    <div class="popup-header">
                        <div class="popup-icon ${iconClass}">
                            ${icons[icon] || icons.warning}
                        </div>
                        <h3>${title}</h3>
                    </div>
                    <div class="popup-body">
                        <p class="popup-message">${message}</p>
                        <div class="popup-actions">
                            <button class="popup-btn btn-cancel" id="cancelBtn">
                                <i class="fas fa-times"></i>
                                ${cancelText}
                            </button>
                            <button class="popup-btn ${btnClass}" id="confirmBtn">
                                <i class="fas fa-check"></i>
                                ${confirmText}
                            </button>
                        </div>
                    </div>
                `;

                document.getElementById('confirmBtn').addEventListener('click', () => {
                    this.hide();
                    window.location.href = 'index.html';
                });

                document.getElementById('cancelBtn').addEventListener('click', () => {
                    this.hide();
                    if (this.callback.onCancel) this.callback.onCancel();
                });

                this.overlay.addEventListener('click', (e) => {
                    if (e.target === this.overlay) {
                        this.hide();
                        if (this.callback.onCancel) this.callback.onCancel();
                    }
                });

                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.hide();
                        if (this.callback.onCancel) this.callback.onCancel();
                    }
                });

                this.overlay.classList.add('active');
            }

            hide() {
                this.overlay.classList.remove('active');
                this.callback = null;
            }

            confirmLogout() {
                this.show({
                    title: 'تسجيل الخروج',
                    message: 'هل أنت متأكد من رغبتك في تسجيل الخروج؟ سيتم حفظ جميع التغييرات تلقائياً.',
                    icon: 'warning',
                    confirmText: 'نعم، سجلني خارجاً',
                    cancelText: 'البقاء مسجلاً',
                    type: 'danger',
                    onConfirm: () => {
                        toast.success('تم تسجيل الخروج بنجاح');
                        setTimeout(() => {
                            window
                                .location.href = 'login.html';
                        }, 1500);
                    }
                });
            }
        }

        // ===== إنشاء الأنظمة =====
        const toast = new ToastSystem();
        const confirmation = new ConfirmationSystem();

        // ===== بيانات تجريبية =====
        const dashboardData = {
            brandName: "Fashion House",
            stats: {
                totalSales: 12500,
                productsCount: 8,
                newOrders: 3,
                conversionRate: 4.2,
                returnsCount: 3,
                itemsCount: 235,
                deliveredCount: 189,
                pendingCount: 14,
                unansweredCount: 7
            },
            complaints: [
                {
                    id: 1,
                    title: "تأخر في الشحن",
                    date: "منذ يومين",
                    status: "open"
                },
                {
                    id: 2,
                    title: "حجم المنتج غير مناسب",
                    date: "منذ 3 أيام",
                    status: "open"
                }
            ],
            tips: [
                {
                    id: 1,
                    title: "تحسين صور المنتجات",
                    content: "صور عالية الجودة تزيد المبيعات بنسبة 40%"
                },
                {
                    id: 2,
                    title: "عروض مجانية الشحن",
                    content: "عرض شحن مجاني للطلبات فوق 500 جنيه"
                }
            ]
        };

        // ===== تهيئة الصفحة =====
        document.addEventListener('DOMContentLoaded', function () {
            initializeDashboard();
            setupEventListeners();

            // عرض رسالة ترحيب
            setTimeout(() => {
                toast.success('🎉 تم تحميل لوحة التحكم بنجاح!');
            }, 1000);
        });

        function initializeDashboard() {
            // تحديث البيانات
            document.getElementById('brandName').textContent = dashboardData.brandName;
            document.getElementById('totalSales').textContent = `EGP ${dashboardData.stats.totalSales.toLocaleString()}`;
            document.getElementById('productsCount').textContent = dashboardData.stats.productsCount;
            document.getElementById('newOrders').textContent = dashboardData.stats.newOrders;
            document.getElementById('conversionRate').textContent = `${dashboardData.stats.conversionRate}%`;
            document.getElementById('returnsCount').textContent = dashboardData.stats.returnsCount;
            document.getElementById('itemsCount').textContent = dashboardData.stats.itemsCount;
            document.getElementById('deliveredCount').textContent = dashboardData.stats.deliveredCount;
            document.getElementById('pendingCount').textContent = dashboardData.stats.pendingCount;
            document.getElementById('unansweredCount').textContent = dashboardData.stats.unansweredCount;

            // تحديث الشكاوى
            updateComplaints();

            // تحديث النصائح
            updateTips();
        }

        function updateComplaints() {
            const list = document.getElementById('complaintsList');
            list.innerHTML = dashboardData.complaints.map(complaint => `
                <div class="complaint-item">
                    <div class="complaint-icon">
                        <i class="fas fa-exclamation"></i>
                    </div>
                    <div class="complaint-info">
                        <div class="complaint-title">${complaint.title}</div>
                        <div class="complaint-date">${complaint.date}</div>
                    </div>
                    <div class="complaint-status status-${complaint.status}">
                        ${complaint.status === 'open' ? 'مفتوح' : 'تم الحل'}
                    </div>
                </div>
            `).join('');
        }

        function updateTips() {
            const list = document.getElementById('tipsList');
            list.innerHTML = dashboardData.tips.map(tip => `
                <div class="tip-item">
                    <div class="tip-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="tip-content">
                        <h4>${tip.title}</h4>
                        <p>${tip.content}</p>
                    </div>
                </div>
            `).join('');
        }

        // function setupEventListeners() {
        //     // الضغط على بطاقات الإحصائيات
        //     document.querySelectorAll('.stat-card, .additional-stat').forEach(card => {
        //         card.addEventListener('click', function() {
        //             const page = this.dataset.page;
        //             toast.info(`سيتم فتح صفحة ${page.replace('-', ' ')}`);
        //         });
        //     });

        // زر الإعدادات
        document.getElementById('settingsBtn').addEventListener('click', function () {
            window.location.href = 'setting.html';
        });
        document.getElementById('notificationsBtn').addEventListener('click', function () {
            window.location.href = 'notifications.html';
        });
        // تسجيل الخروج (بدون alert)
        document.getElementById('logoutBtn').addEventListener('click', function (e) {
            e.preventDefault();
            confirmation.confirmLogout();
        });

        // الشات
        document.getElementById('chatIcon').addEventListener('click', openChat);
        document.getElementById('chatClose').addEventListener('click', closeChat);
        document.getElementById('chatOverlay').addEventListener('click', function (e) {
            if (e.target === this) closeChat();
        });
        document.getElementById('chatSend').addEventListener('click', sendMessage);
        document.getElementById('chatInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') sendMessage();
        });


        function openChat() {
            document.getElementById('chatOverlay').classList.add('active');
            document.getElementById('chatInput').focus();
        }

        function closeChat() {
            document.getElementById('chatOverlay').classList.remove('active');
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            const messages = document.getElementById('chatMessages');
            const newMsg = document.createElement('div');
            newMsg.className = 'message user';
            newMsg.textContent = message;
            messages.appendChild(newMsg);

            input.value = '';
            messages.scrollTop = messages.scrollHeight;

            // محاكاة رد الدعم
            setTimeout(() => {
                const replies = [
                    "شكراً على رسالتك، سنرد عليك قريباً",
                    "تم استلام استفسارك، فريق الدعم سيساعدك"
                ];
                const reply = document.createElement('div');
                reply.className = 'message admin';
                reply.textContent = replies[Math.floor(Math.random() * replies.length)];
                messages.appendChild(reply);
                messages.scrollTop = messages.scrollHeight;
            }, 1000);
        }

        // ===== تجربة الـ Toast =====
        window.demoToast = function (type) {
            const messages = {
                success: '🎉 تمت العملية بنجاح!',
                error: '❌ حدث خطأ في العملية',
                warning: '⚠️ تحقق من البيانات المدخلة',
                info: 'ℹ️ هذه رسالة معلوماتية'
            };
            toast[type](messages[type]);
        };
        // ===== بيانات تجريبية إضافية =====
        const additionalData = {
            notifications: 3,
            sellerProgress: 65,
            recentOrders: [
                {
                    id: 1,
                    customer: "أحمد محمد",
                    amount: 450,
                    status: "new",
                    time: "منذ ساعة"
                },
                {
                    id: 2,
                    customer: "سارة علي",
                    amount: 1200,
                    status: "processing",
                    time: "منذ 3 ساعات"
                },
                {
                    id: 3,
                    customer: "محمد حسن",
                    amount: 750,
                    status: "delivered",
                    time: "منذ يوم"
                }
            ],
            bestProduct: "تيشيرت قطني",
            bestTime: "8-10 مساءً",
            bestArea: "القاهرة"
        };

        // ===== تهيئة الإضافات =====
        function initializeAdditionalFeatures() {
            // تحديث الإشعارات
            document.getElementById('notificationCount').textContent = additionalData.notifications;

            // تحديث الطلبات الأخيرة
            updateRecentOrders();

            // تحديث الملخص السريع
            document.getElementById('bestProduct').textContent = additionalData.bestProduct;
            document.getElementById('bestTime').textContent = additionalData.bestTime;
            document.getElementById('bestArea').textContent = additionalData.bestArea;

            // تحديث التاريخ الحالي
            updateCurrentDate();

            // إخفاء شاشة التحميل
            setTimeout(() => {
                document.getElementById('loadingOverlay').classList.add('hidden');
            }, 1500);
        }

        function updateRecentOrders() {
            const list = document.getElementById('ordersList');
            list.innerHTML = additionalData.recentOrders.map(order => `
        <div class="order-item">
            <div class="order-customer">${order.customer}</div>
            <div class="order-amount">EGP ${order.amount}</div>
            <div class="order-status status-${order.status}">
                ${order.status === 'new' ? 'جديد' :
                    order.status === 'processing' ? 'قيد المعالجة' :
                        'تم التسليم'}
            </div>
            <div class="order-time">${order.time}</div>
        </div>
    `).join('');
        }

        function updateCurrentDate() {
            const now = new Date();
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            const dateString = now.toLocaleDateString('ar-SA', options);
            document.getElementById('currentDate').textContent = dateString;
        }

        // ===== وظائف إضافية =====
        function exportReport() {
            toast.success('جاري تحضير التقرير للتصدير...');
            setTimeout(() => {
                toast.success('تم تحضير التقرير بنجاح! سيبدأ التحميل قريباً.');
            }, 1000);
        }

        // ===== إعداد المستمعين للأحداث =====
        function setupAdditionalListeners() {
            // زر الإشعارات
            document.getElementById('notificationsBtn').addEventListener('click', function () {
                toast.info('لديك 3 إشعارات جديدة');

            });

            // تبديل السمة
            document.getElementById('themeToggle').addEventListener('click', function () {
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-moon')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    toast.info('تم تفعيل الوضع النهاري');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    toast.info('تم تفعيل الوضع الليلي');
                }
            });

            // البحث
            document.getElementById('searchInput').addEventListener('input', function (e) {
                if (e.target.value.length > 2) {
                    console.log('بحث عن:', e.target.value);
                }
            });

            // القائمة الجانبية للجوال
            const menuToggle = document.getElementById('menuToggle');
            const sidebar = document.getElementById('mobileSidebar');
            const sidebarClose = document.getElementById('sidebarClose');

            if (menuToggle) {
                menuToggle.addEventListener('click', function () {
                    sidebar.classList.add('active');
                });
            }

            if (sidebarClose) {
                sidebarClose.addEventListener('click', function () {
                    sidebar.classList.remove('active');
                });
            }

            // إغلاق القائمة بالنقر خارجها
            sidebar.addEventListener('click', function (e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        }

        // ===== تحديث الدالة الرئيسية =====
        document.addEventListener('DOMContentLoaded', function () {
            initializeDashboard();
            initializeAdditionalFeatures();
            setupEventListeners();
            setupAdditionalListeners();

            setTimeout(() => {
                toast.success('🎉 تم تحميل لوحة التحكم بنجاح!');
            }, 1000);
        });

        // ===== وظائف الانتقال للصفحات =====
        function goToSalesDetails() {
            window.location.href = 'sales-details.html';
        }

        function goToProductsDetails() {
            window.location.href = 'products.html';
        }

        function goToOrdersDetails() {
            window.location.href = 'orders.html';
        }

        function goToAnalyticsDetails() {
            window.location.href = 'analytics.html';
        }

        function goToReturnsDetails() {
            toast.info('صفحة المرتجعات قريباً');
            // window.location.href = 'returns.html';
        }

        function goToDeliveredDetails() {
            toast.info('صفحة التسليمات قريباً');
            // window.location.href = 'delivered.html';
        }

        function goToPendingDetails() {
            toast.info('صفحة الطلبات المعلقة قريباً');
            // window.location.href = 'pending.html';
        }

        function goToUnansweredDetails() {
            toast.info('صفحة الاستفسارات قريباً');
            // window.location.href = 'unanswered.html';
        }
        // ===== ربط البطاقات بالصفحات =====
        function setupCardLinks() {
            const cardLinks = {
                'sales-details': 'sales-details.html',
                'products-details': 'products.html',
                'orders-details': 'orders.html',
                'analytics-details': 'analytics.html',
                'returns-details': 'returns-details.html', // سيتم تنبيه المستخدم
                'items-details': '#',
                'delivered-details': '#',
                'pending-details': '#',
                'unanswered-details': '#'
            };

            document.querySelectorAll('[data-page]').forEach(card => {
                const page = card.dataset.page;
                card.style.cursor = 'pointer';

                card.addEventListener('click', function () {
                    const link = cardLinks[page];

                    if (link && link !== '#') {
                        window.location.href = link;
                    } else {
                        // للصفحات غير الموجودة بعد
                        const pageName = page.replace('-', ' ');
                        toast.info(`صفحة ${pageName} قريباً`);
                    }
                });
            });
        }

        // استدعاء الدالة في DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function () {
            initializeDashboard();
            initializeAdditionalFeatures();
            setupEventListeners();
            setupAdditionalListeners();
            setupCardLinks(); // <-- أضف هذا السطر

            setTimeout(() => {
                toast.success('🎉 تم تحميل لوحة التحكم بنجاح!');
            }, 1000);
        });
    </script>
</body>

</html>